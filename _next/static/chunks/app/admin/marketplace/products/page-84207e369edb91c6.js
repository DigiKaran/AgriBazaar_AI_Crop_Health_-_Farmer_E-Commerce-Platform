(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{17759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>y,MJ:()=>f,Rr:()=>j,eI:()=>p,lR:()=>h,lV:()=>c,zB:()=>m});var r=a(95155),s=a(12115),l=a(99708),n=a(62177),i=a(59434),d=a(85057);let c=n.Op,o=s.createContext({}),m=e=>{let{...t}=e;return(0,r.jsx)(o.Provider,{value:{name:t.name},children:(0,r.jsx)(n.xI,{...t})})},u=()=>{let e=s.useContext(o),t=s.useContext(x),{getFieldState:a,formState:r}=(0,n.xW)(),l=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},x=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:a,...l}=e,n=s.useId();return(0,r.jsx)(x.Provider,{value:{id:n},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...l})})});p.displayName="FormItem";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:l,formItemId:n}=u();return(0,r.jsx)(d.J,{ref:t,className:(0,i.cn)(l&&"text-destructive",a),htmlFor:n,...s})});h.displayName="FormLabel";let f=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:n,formDescriptionId:i,formMessageId:d}=u();return(0,r.jsx)(l.DX,{ref:t,id:n,"aria-describedby":s?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!s,...a})});f.displayName="FormControl";let j=s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:l}=u();return(0,r.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});j.displayName="FormDescription";let y=s.forwardRef((e,t)=>{var a;let{className:s,children:l,...n}=e,{error:d,formMessageId:c}=u(),o=d?String(null!=(a=null==d?void 0:d.message)?a:""):l;return o?(0,r.jsx)("p",{ref:t,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",s),...n,children:o}):null});y.displayName="FormMessage"},28044:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},31949:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},34301:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},35695:(e,t,a)=>{"use strict";var r=a(18999);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},35760:(e,t,a)=>{Promise.resolve().then(a.bind(a,84584))},59409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>f,gC:()=>h,l6:()=>o,yv:()=>m});var r=a(95155),s=a(12115),l=a(31992),n=a(79556),i=a(77381),d=a(10518),c=a(59434);let o=l.bL;l.YJ;let m=l.WT,u=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...i}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,r.jsx)(x,{}),(0,r.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});h.displayName=l.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=l.JU.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:s})]})});f.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=l.wv.displayName},77223:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84584:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ex});var r=a(95155),s=a(40283),l=a(35695),n=a(12115),i=a(66695),d=a(30285),c=a(6874),o=a.n(c),m=a(28044),u=a(87374),x=a(66766),p=a(91840),h=a(87481),f=a(62177),j=a(90221),y=a(55594),g=a(62523),N=a(88539),v=a(85127),w=a(31949),b=a(34301);let A=(0,a(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var k=a(77223),C=a(55365),R=a(54165),M=a(17759),P=a(59409),z=a(46081),I=a(6101),D=a(15452),F=a(85185),S=a(99708),E="AlertDialog",[H,U]=(0,z.A)(E,[D.Hs]),B=(0,D.Hs)(),J=e=>{let{__scopeAlertDialog:t,...a}=e,s=B(t);return(0,r.jsx)(D.bL,{...s,...a,modal:!0})};J.displayName=E;var V=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,l=B(a);return(0,r.jsx)(D.l9,{...l,...s,ref:t})});V.displayName="AlertDialogTrigger";var L=e=>{let{__scopeAlertDialog:t,...a}=e,s=B(t);return(0,r.jsx)(D.ZL,{...s,...a})};L.displayName="AlertDialogPortal";var T=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,l=B(a);return(0,r.jsx)(D.hJ,{...l,...s,ref:t})});T.displayName="AlertDialogOverlay";var O="AlertDialogContent",[q,Y]=H(O),Z=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:s,...l}=e,i=B(a),d=n.useRef(null),c=(0,I.s)(t,d),o=n.useRef(null);return(0,r.jsx)(D.G$,{contentName:O,titleName:$,docsSlug:"alert-dialog",children:(0,r.jsx)(q,{scope:a,cancelRef:o,children:(0,r.jsxs)(D.UC,{role:"alertdialog",...i,...l,ref:c,onOpenAutoFocus:(0,F.m)(l.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=o.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(S.xV,{children:s}),(0,r.jsx)(ee,{contentRef:d})]})})})});Z.displayName=O;var $="AlertDialogTitle",G=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,l=B(a);return(0,r.jsx)(D.hE,{...l,...s,ref:t})});G.displayName=$;var _="AlertDialogDescription",W=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,l=B(a);return(0,r.jsx)(D.VY,{...l,...s,ref:t})});W.displayName=_;var X=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,l=B(a);return(0,r.jsx)(D.bm,{...l,...s,ref:t})});X.displayName="AlertDialogAction";var K="AlertDialogCancel",Q=n.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,{cancelRef:l}=Y(K,a),n=B(a),i=(0,I.s)(t,l);return(0,r.jsx)(D.bm,{...n,...s,ref:i})});Q.displayName=K;var ee=e=>{let{contentRef:t}=e,a="`".concat(O,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(O,"` by passing a `").concat(_,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(O,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return n.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},et=a(59434);let ea=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(T,{className:(0,et.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});ea.displayName=T.displayName;let er=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(L,{children:[(0,r.jsx)(ea,{}),(0,r.jsx)(Z,{ref:t,className:(0,et.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});er.displayName=Z.displayName;let es=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,et.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};es.displayName="AlertDialogHeader";let el=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,et.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};el.displayName="AlertDialogFooter";let en=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(G,{ref:t,className:(0,et.cn)("text-lg font-semibold",a),...s})});en.displayName=G.displayName;let ei=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(W,{ref:t,className:(0,et.cn)("text-sm text-muted-foreground",a),...s})});ei.displayName=W.displayName;let ed=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(X,{ref:t,className:(0,et.cn)((0,d.r)(),a),...s})});ed.displayName=X.displayName;let ec=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(Q,{ref:t,className:(0,et.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});ec.displayName=Q.displayName;var eo=a(46339);let em=y.Ik({name:y.Yj().min(3,"Product name must be at least 3 characters."),category:y.Yj().min(1,"Please select a category."),price:y.au.number().min(0,"Price must be a positive number."),stock:y.au.number().int().min(0,"Stock must be a positive integer."),description:y.Yj().optional(),imageUrl:y.Yj().url("Please enter a valid image URL."),dataAiHint:y.Yj().optional()});function eu(e){let{adminUserId:t}=e,[a,s]=(0,n.useState)([]),[l,i]=(0,n.useState)([]),[c,o]=(0,n.useState)(!0),[m,u]=(0,n.useState)(null),[y,z]=(0,n.useState)(!1),[I,D]=(0,n.useState)(!1),[F,S]=(0,n.useState)(null),{toast:E}=(0,h.dj)(),H=(0,f.mN)({resolver:(0,j.u)(em),defaultValues:{name:"",category:"",price:0,stock:0,description:"",imageUrl:"",dataAiHint:""}}),U=async()=>{o(!0),u(null);try{let[e,a]=await Promise.all([(0,p.DZ)(t),(0,p.Wg)(t)]);e.products?s(e.products):u(e.error||"Failed to load products"),a.categories?i(a.categories):u(e=>e?"".concat(e,", and failed to load categories."):"Failed to load categories")}catch(e){u(e.message||"An unexpected error occurred.")}finally{o(!1)}};(0,n.useEffect)(()=>{U()},[t]);let B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;S(e),e?H.reset(e):H.reset({name:"",category:"",price:0,stock:0,description:"",imageUrl:"",dataAiHint:""}),D(!0)},L=async e=>{let a=await (0,p.FZ)(t,e);a.success?(E({title:"Success",description:"Product deleted."}),s(t=>t.filter(t=>t.id!==e))):E({variant:"destructive",title:"Error",description:a.error||"Failed to delete product."})},T=async e=>{z(!0);let a=F?p.nv:p.ho,r=await a(t,{...e,id:(null==F?void 0:F.id)||""});r.product?(E({title:"Success",description:"Product ".concat(F?"updated":"added",".")}),U(),D(!1)):E({variant:"destructive",title:"Error",description:r.error}),z(!1)};return c?(0,r.jsx)("div",{className:"flex items-center justify-center py-10",children:(0,r.jsx)(eo.G,{size:32})}):m?(0,r.jsxs)(C.Fc,{variant:"destructive",children:[(0,r.jsx)(w.A,{className:"h-4 w-4"}),(0,r.jsx)(C.XL,{children:"Error"}),(0,r.jsx)(C.TN,{children:m})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"text-right",children:(0,r.jsxs)(R.lG,{open:I,onOpenChange:D,children:[(0,r.jsx)(R.zM,{asChild:!0,children:(0,r.jsxs)(d.$,{onClick:()=>B(),children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Add New Product"]})}),(0,r.jsxs)(R.Cf,{className:"sm:max-w-xl",children:[(0,r.jsxs)(R.c7,{children:[(0,r.jsx)(R.L3,{children:F?"Edit Product":"Add New Product"}),(0,r.jsx)(R.rr,{children:F?"Update the details of this product.":"Fill in the details to add a new product."})]}),(0,r.jsx)(M.lV,{...H,children:(0,r.jsxs)("form",{onSubmit:H.handleSubmit(T),className:"space-y-4",children:[(0,r.jsx)(M.zB,{control:H.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(M.eI,{children:[(0,r.jsx)(M.lR,{children:"Name"}),(0,r.jsx)(M.MJ,{children:(0,r.jsx)(g.p,{...t})}),(0,r.jsx)(M.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(M.zB,{control:H.control,name:"price",render:e=>{let{field:t}=e;return(0,r.jsxs)(M.eI,{children:[(0,r.jsx)(M.lR,{children:"Price (₹)"}),(0,r.jsx)(M.MJ,{children:(0,r.jsx)(g.p,{type:"number",step:"0.01",...t})}),(0,r.jsx)(M.C5,{})]})}}),(0,r.jsx)(M.zB,{control:H.control,name:"stock",render:e=>{let{field:t}=e;return(0,r.jsxs)(M.eI,{children:[(0,r.jsx)(M.lR,{children:"Stock"}),(0,r.jsx)(M.MJ,{children:(0,r.jsx)(g.p,{type:"number",...t})}),(0,r.jsx)(M.C5,{})]})}})]}),(0,r.jsx)(M.zB,{control:H.control,name:"category",render:e=>{let{field:t}=e;return(0,r.jsxs)(M.eI,{children:[(0,r.jsx)(M.lR,{children:"Category"}),(0,r.jsxs)(P.l6,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,r.jsx)(M.MJ,{children:(0,r.jsx)(P.bq,{children:(0,r.jsx)(P.yv,{placeholder:"Select a category"})})}),(0,r.jsx)(P.gC,{children:l.map(e=>(0,r.jsx)(P.eb,{value:e.name,children:e.name},e.id))})]}),(0,r.jsx)(M.C5,{})]})}}),(0,r.jsx)(M.zB,{control:H.control,name:"imageUrl",render:e=>{let{field:t}=e;return(0,r.jsxs)(M.eI,{children:[(0,r.jsx)(M.lR,{children:"Image URL"}),(0,r.jsx)(M.MJ,{children:(0,r.jsx)(g.p,{...t})}),(0,r.jsx)(M.C5,{})]})}}),(0,r.jsx)(M.zB,{control:H.control,name:"description",render:e=>{let{field:t}=e;return(0,r.jsxs)(M.eI,{children:[(0,r.jsx)(M.lR,{children:"Description"}),(0,r.jsx)(M.MJ,{children:(0,r.jsx)(N.T,{rows:4,...t})}),(0,r.jsx)(M.C5,{})]})}}),(0,r.jsx)(M.zB,{control:H.control,name:"dataAiHint",render:e=>{let{field:t}=e;return(0,r.jsxs)(M.eI,{children:[(0,r.jsx)(M.lR,{children:"Image AI Hint (Optional)"}),(0,r.jsx)(M.MJ,{children:(0,r.jsx)(g.p,{placeholder:"e.g. tractor farming",...t})}),(0,r.jsx)(M.C5,{})]})}}),(0,r.jsxs)(R.Es,{children:[(0,r.jsx)(R.HM,{asChild:!0,children:(0,r.jsx)(d.$,{type:"button",variant:"outline",children:"Cancel"})}),(0,r.jsxs)(d.$,{type:"submit",disabled:y,children:[y&&(0,r.jsx)(eo.G,{size:16,className:"mr-2"}),F?"Save Changes":"Add Product"]})]})]})})]})]})}),(0,r.jsxs)(v.XI,{children:[(0,r.jsx)(v.r6,{children:"A list of all products in the marketplace."}),(0,r.jsx)(v.A0,{children:(0,r.jsxs)(v.Hj,{children:[(0,r.jsx)(v.nd,{children:"Product"}),(0,r.jsx)(v.nd,{children:"Category"}),(0,r.jsx)(v.nd,{children:"Price"}),(0,r.jsx)(v.nd,{children:"Stock"}),(0,r.jsx)(v.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(v.BF,{children:a.map(e=>(0,r.jsxs)(v.Hj,{children:[(0,r.jsxs)(v.nA,{className:"font-medium flex items-center gap-2",children:[(0,r.jsx)(x.default,{src:e.imageUrl,alt:e.name,width:40,height:40,className:"rounded-sm object-cover"}),(0,r.jsx)("span",{children:e.name})]}),(0,r.jsx)(v.nA,{children:e.category}),(0,r.jsxs)(v.nA,{children:["₹",e.price.toFixed(2)]}),(0,r.jsx)(v.nA,{children:e.stock}),(0,r.jsxs)(v.nA,{className:"text-right space-x-2",children:[(0,r.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>B(e),children:(0,r.jsx)(A,{className:"h-4 w-4"})}),(0,r.jsxs)(J,{children:[(0,r.jsx)(V,{asChild:!0,children:(0,r.jsx)(d.$,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:(0,r.jsx)(k.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(er,{children:[(0,r.jsxs)(es,{children:[(0,r.jsx)(en,{children:"Are you absolutely sure?"}),(0,r.jsxs)(ei,{children:['This action cannot be undone. This will permanently delete the product "',e.name,'".']})]}),(0,r.jsxs)(el,{children:[(0,r.jsx)(ec,{children:"Cancel"}),(0,r.jsx)(ed,{onClick:()=>L(e.id),children:"Continue"})]})]})]})]})]},e.id))})]})]})}function ex(){let{userProfile:e,loading:t,currentUser:a}=(0,s.A)(),c=(0,l.useRouter)();return((0,n.useEffect)(()=>{t||(null==e?void 0:e.role)==="admin"||c.push("/")},[e,t,c]),t)?(0,r.jsxs)("div",{className:"container mx-auto py-8 px-4 text-center flex flex-col items-center justify-center min-h-[calc(100vh-10rem)]",children:[(0,r.jsx)(eo.G,{size:48,className:"mb-4"}),"Loading product manager..."]}):(null==e?void 0:e.role)!=="admin"?(0,r.jsx)("div",{className:"container mx-auto py-12 px-4 flex flex-col items-center justify-center min-h-[calc(100vh-10rem)]",children:(0,r.jsxs)(i.Zp,{className:"w-full max-w-md text-center shadow-xl rounded-xl",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(m.A,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),(0,r.jsx)(i.ZB,{className:"text-2xl",children:"Access Denied"})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsx)(i.BT,{className:"text-lg",children:"This area is restricted to administrators."}),(0,r.jsx)(d.$,{asChild:!0,className:"mt-6",children:(0,r.jsx)(o(),{href:"/",children:"Go to Homepage"})})]})]})}):(0,r.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,r.jsxs)("header",{className:"mb-8",children:[(0,r.jsx)(o(),{href:"/admin",className:"text-sm text-primary hover:underline inline-flex items-center mb-4",children:"← Back to Admin Dashboard"}),(0,r.jsxs)("h1",{className:"text-4xl font-headline flex items-center gap-3",children:[(0,r.jsx)(u.A,{className:"h-10 w-10 text-primary"})," Manage Products"]}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Add, edit, and delete products from the marketplace."})]}),(0,r.jsx)(i.Zp,{className:"shadow-lg rounded-xl",children:(0,r.jsx)(i.Wu,{className:"pt-6",children:a&&(0,r.jsx)(eu,{adminUserId:a.uid})})})]})}},87374:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,668,3340,6874,6766,5302,1263,9037,1859,4443,7124,623,8441,1684,7358],()=>t(35760)),_N_E=e.O()}]);